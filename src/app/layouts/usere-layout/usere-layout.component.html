<body>

  <!--header-->
  <header class="main-header clearfix" role="header">
    <div class="logo">
      <a routerLinkActive="active" [routerLink]="['/employee']"><em>BNT</em></a>
    </div>
    <a href="#menu" class="menu-link"><i class="fa fa-bars"></i></a>
    <nav id="menu" class="main-nav" role="navigation">
      <ul class="main-menu">
        <li><a routerLinkActive="active" [routerLink]="['/employee']">My informations</a></li>
        <li class="has-submenu"><a routerLinkActive="active" [routerLink]="['/employee']">Missions</a>
          <ul class="sub-menu">
            <li><a routerLinkActive="active" [routerLink]="['/employee']">My Missions</a></li>
            <li><a routerLinkActive="active" [routerLink]="['/employee']">All Missions</a></li>
          </ul>
        </li>
        <li><a routerLinkActive="active" [routerLink]="['/employee']">Travel Programs</a></li>
        <li><a routerLinkActive="active" [routerLink]="['/login']">Logout</a></li>
      </ul>
    </nav>
  </header>

  <!-- ***** Main Banner Area Start ***** -->
  <section class="section main-banner">
      <video autoplay muted loop id="bg-video">
          <source src="./../../../assets/img/images/travel.mp4" type="video/mp4" />
      </video>
      <div class="video-overlay header-text">
          <div class="caption">
              <h2><em>Business</em> And <em>Travel  </em></h2>
              <h6>Your business is in good hands</h6>
              <br>
              <div class="main-button">
                  <div class="scroll-to-section"><a href="http://tunisia-business-travel.com/">Discover more</a></div>
              </div>
          </div>
      </div>
  </section>

  <!-- ***** List of informations ***** -->

  <section class="section why-us" data-section="section2">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="section-heading">
            <h2>My informations</h2>
          </div>
        </div>
        <div class = "container" id ="main-container">
          <div class="row">
            <div *ngFor=" let user of users" class="col-md-6 col-xl-3">
              <div class="card m-b-30">
                 <div class="card-body row">
                    <div class="col-6">
                       <a href=""><img src="{{user?.imageUrl}}" alt="" class="img-fluid rounded-circle w-60"></a>
                    </div>
                    <div class="col-6 card-title align-self-center mb-0">
                       <h5>{{user?.firstName}}</h5>
                       <p class="m-0">{{user?.lastName}}</p>
                    </div>
                 </div>
                 <ul class="list-group list-group-flush">
                    <li class="list-group-item"><i class="fa fa-envelope float-right"></i>{{user?.email}}</li>
                    <li class="list-group-item"><i class="fa fa-thumbtack float-right"></i>{{user?.adress}}</li>
                    <li class="list-group-item"><i class="fa fa-phone float-right"></i>{{user?.phoneNumber}}</li>
                    <li class="list-group-item"><i class="fa fa-calendar float-right"></i>{{user?.invitationDate}}</li>
                    <li class="list-group-item"><i class="fa fa-user float-right"></i>{{user?.invitationStatus}}</li>
                 </ul>
              </div>
           </div>
          </div>
        </div>
      </div>
    </div>

  </section>

  <!-- ***** List of your missions ***** -->

  <section class="section courses" data-section="section4">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <div class="section-heading">
            <h2>Your own missions</h2>
          </div>
          
          <div class="row">
            <div class="col">
              <div class="card shadow">
                <div class="card-header border-0">
                  <h3 class="mb-0">List of your missions</h3>
                </div>
                <div class="table-responsive">
                  <table class="table align-items-center table-flush">
                    <thead class="thead-light">
                      <tr>
                      <!-- <th scope="col">Mission</th> -->
                        <th scope="col">Destination</th>
                        <th scope="col">Start date</th>
                        <th scope="col">End date</th>
                        <th scope="col">Mission Object</th>
                        <th scope="col">Mission Status</th>
                        <th scope="col"></th>
                      </tr>
                    </thead>
                    <tbody>
                      <!-- Missions -->
                      <tr *ngFor="let mission1 of missionCompany">
                       <!-- <th scope="row">
                          <div class="media align-items-center">
                            <div class="media-body">
                              <span class="mb-0 text-sm">{{mission1.id}}</span>
                            </div>
                          </div>
                        </th> -->
                        <td>
                          {{mission1.destination}}
                        </td>
                        <td>
                          {{mission1.startDate}}
                        </td>
                        <td>
                          {{mission1.endDate}}
                        </td>
                        <td>
                          {{mission1.missionObject}}
                        </td>
                        <td>
                          <span *ngIf="mission.missionStatus=='BEING_PROCESSED'" class="badge badge-dot mr-4">
                            <i class="bg-warning"></i> {{mission1.missionStatus}}
                          </span>
                          <span *ngIf="mission.missionStatus=='VALID'" class="badge badge-dot">
                            <i class="bg-success"></i> {{mission1.missionStatus}}
                          </span>
                        </td>
                        <td class="text-right">
                          <div ngbDropdown placement="bottom-right">
                            <a class="btn btn-sm btn-icon-only text-light"  ngbDropdownToggle>
                              <i class="fas fa-ellipsis-v"></i>
                            </a>
                            <div ngbDropdownMenu class=" dropdown-menu-right dropdown-menu-arrow">
                              <a (click)="onOpenModal2(mission, 'edit')" class="dropdown-item" href="javascript:void(0)">Validate</a>
                            </div>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <!-- Edit Modal Mission -->
<div class="modal fade" id="updateMissionModal" tabindex="-1" role="dialog" aria-labelledby="updateMissionModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
       <div class="modal-header">
          <h5 class="modal-title" id="updateMissionModalLabel">Edit Mission</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
          </button>
       </div>
       <div class="modal-body">
        <form #editForm="ngForm">
          <div class="form-group">
             <input type="hidden" ngModel="{{editMission?.destination}}" name="destination" class="form-control" id="destination" placeholder="Destination">
          </div>
          <div class="form-group">
            <input type="hidden" ngModel="{{editMission?.startDate}}" name="startDate" class="form-control" id="startDate" placeholder="Start Date">
         </div>
          <input type="hidden" ngModel="{{editMission?.id}}" name="id" class="form-control" id="id" placeholder="Mission ID">
          <div class="form-group">
             <input type="hidden"  ngModel="{{editMission?.endDate}}" name="endDate" class="form-control" id="endDate" placeholder="End Date">
          </div>
          <div class="form-group">
            <input type="hidden"  ngModel="{{editMission?.missionObject}}" name="missionObject" class="form-control" id="missionObject" placeholder="Mission Object">
          </div>
          <div class="form-group">
            <label for="missionStatus">Mission Status</label>
            <input type="text" ngModel="{{editMission?.missionStatus}}" name="missionStatus" class="form-control" id="missionStatus" placeholder="Mission Status">
         </div>
          <div class="modal-footer">
             <button type="button" id="" data-dismiss="modal" class="btn btn-secondary">Close</button>
             <button (click)="onUpdateMission(editForm.value)" data-dismiss="modal" class="btn btn-primary" >Save changes</button>
          </div>
       </form>
       </div>
    </div>
  </div>
</div>

        </div>
      </div>
    </div>
  </section>

  <!-- ***** List of all missions ***** -->

  <section class="section courses" data-section="section4">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <div class="section-heading">
            <h2>All missions</h2>
          </div>
          <div class="row">
            <div class="col">
              <div class="card shadow">
                <div class="card-header border-0">
                  <h3 class="mb-0">List of missions</h3>
                </div>
                <div class="table-responsive">
                  <table class="table align-items-center table-flush">
                    <thead class="thead-light">
                      <tr>
                       <!-- <th scope="col">Mission</th> -->
                        <th scope="col">Destination</th>
                        <th scope="col">Start date</th>
                        <th scope="col">End date</th>
                        <th scope="col">Mission Object</th>
                        <th scope="col">Mission Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <!-- all missions -->
                      <tr *ngFor="let mission of missions">
                       <!-- <th scope="row">
                          <div class="media align-items-center">
                            <div class="media-body">
                              <span class="mb-0 text-sm">{{mission.id}}</span>
                            </div>
                          </div>
                        </th> -->
                        <td>
                          {{mission.destination}}
                        </td>
                        <td>
                          {{mission.startDate}}
                        </td>
                        <td>
                          {{mission.endDate}}
                        </td>
                        <td>
                          {{mission.missionObject}}
                        </td>
                        <td>
                          <span *ngIf="mission.missionStatus=='BEING_PROCESSED'" class="badge badge-dot mr-4">
                            <i class="bg-warning"></i> {{mission.missionStatus}}
                          </span>
                          <span *ngIf="mission.missionStatus=='VALID'" class="badge badge-dot">
                            <i class="bg-success"></i> {{mission.missionStatus}}
                          </span>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ***** List of travel programs ***** -->

  <section class="section courses" data-section="section4">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <div class="section-heading">
            <h2>Travel Programs</h2>
          </div>

          <div class="row">
            <div class="col">
              <div class="card shadow">
                <div class="card-header border-0">
                  <h3 class="mb-0">Travel Programs List</h3>
                </div>
                <div class="table-responsive">
                  <table class="table align-items-center table-flush">
                    <thead class="thead-light">
                      <tr>
                       <!-- <th scope="col">Travel Program</th> -->
                        <th scope="col">destination</th>
                        <th scope="col">Start Date</th>
                        <th scope="col">End Date</th>
                        <th scope="col">Starting Point</th>
                        <th scope="col">Status</th>
                      </tr>
                    </thead>
                    
                    <tbody>
                      <!-- Company -->
                      <tr *ngFor="let tvpg of travelPrograms">
                       <!-- <th scope="row">
                          <div class="media align-items-center">
                            <div class="media-body">
                              <span class="mb-0 text-sm">{{tvpg.id}}</span>
                            </div>
                          </div>
                        </th> -->
                        <td>
                          {{tvpg.destination}}
                        </td>
                        <td>
                          {{tvpg.startDate}}
                        </td>
                        <td>
                          {{tvpg.endDate}}
                        </td>
                        <td>
                          {{tvpg.startingPoint}}
                        </td>
                        <td>
                          <span *ngIf="tvpg.travelProgramStatus=='BEING_PROCESSED'" class="badge badge-dot mr-4">
                            <i class="bg-warning"></i> {{tvpg.travelProgramStatus}}
                          </span>
                          <span *ngIf="tvpg.travelProgramStatus=='VALID'" class="badge badge-dot">
                            <i class="bg-success"></i> {{tvpg.travelProgramStatus}}
                          </span>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section contact" data-section="section6">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="section-heading">
            <h2>Letâ€™s Keep In Touch</h2>
          </div>
        </div>
        <div class="col-md-6">
                    
          <form id="contact" action="" method="post">
            <div class="row">
              <div class="col-md-6">
                  <fieldset>
                    <input name="name" type="text" class="form-control" id="name" placeholder="Your Name" required="">
                  </fieldset>
                </div>
                <div class="col-md-6">
                  <fieldset>
                    <input name="email" type="text" class="form-control" id="email" placeholder="Your Email" required="">
                  </fieldset>
                </div>
              <div class="col-md-12">
                <fieldset>
                  <textarea name="message" rows="6" class="form-control" id="message" placeholder="Your message..." required=""></textarea>
                </fieldset>
              </div>
              <div class="col-md-12">
                <fieldset>
                  <button type="submit" id="form-submit" class="button">Send Message Now</button>
                </fieldset>
              </div>
            </div>
          </form>
        </div>
        <div class="col-md-6">
          <div id="map">
            <iframe src="https://maps.google.com/maps?q=Av.+L%C3%BAcio+Costa,+Rio+de+Janeiro+-+RJ,+Brazil&t=&z=13&ie=UTF8&iwloc=&output=embed" width="100%" height="422px" frameborder="0" style="border:0" allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <p><i class="fa fa-copyright"></i> Copyright 2022 by Business and Travel
          
           | Design: <a href="https://MohamedAmineTouihri.com" rel="sponsored" target="_parent">TouihriDesign</a></p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
    <script src="../../../assets/vendor/jquery/jquery.min.js"></script>
    <script src="../../../assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script src="../../../assets/js/isotope.min.js"></script>
    <script src="../../../assets/js/owl-carousel.js"></script>
    <script src="../../../assets/js/lightbox.js"></script>
    <script src="../../../assets/js/tabs.js"></script>
    <script src="../../../assets/js/video.js"></script>
    <script src="../../../assets/js/slick-slider.js"></script>
    <script src="../../../assets/js/custom.js"></script>
    <script>
        //according to loftblog tut
        $('.nav li:first').addClass('active');

        var showSection = function showSection(section, isAnimate) {
          var
          direction = section.replace(/#/, ''),
          reqSection = $('.section').filter('[data-section="' + direction + '"]'),
          reqSectionPos = reqSection.offset().top - 0;

          if (isAnimate) {
            $('body, html').animate({
              scrollTop: reqSectionPos },
            800);
          } else {
            $('body, html').scrollTop(reqSectionPos);
          }

        };

        var checkSection = function checkSection() {
          $('.section').each(function () {
            var
            $this = $(this),
            topEdge = $this.offset().top - 80,
            bottomEdge = topEdge + $this.height(),
            wScroll = $(window).scrollTop();
            if (topEdge < wScroll && bottomEdge > wScroll) {
              var
              currentId = $this.data('section'),
              reqLink = $('a').filter('[href*=\\#' + currentId + ']');
              reqLink.closest('li').addClass('active').
              siblings().removeClass('active');
            }
          });
        };

        $('.main-menu, .scroll-to-section').on('click', 'a', function (e) {
          if($(e.target).hasClass('external')) {
            return;
          }
          e.preventDefault();
          $('#menu').removeClass('active');
          showSection($(this).attr('href'), true);
        });

        $(window).scroll(function () {
          checkSection();
        });
    </script>
</body>